<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FFmpegfs Fuse Multi Media Filesystem: Online NEWS list</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FFmpegfs Fuse Multi Media Filesystem
   &#160;<span id="projectnumber">2.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Online NEWS list </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line">FFmpegfs NEWS</div>
<div class="line"> </div>
<div class="line">* FFmpegfs has been added to Debian 11 Bullseye and Ubuntu 20.04 and Debian 10</div>
<div class="line">  Buster Backports. See INSTALL.md &quot;Installation from repository&quot; for details.</div>
<div class="line">* Cool, there&#39;s an online review on Linux Uprising, you can read it here:</div>
<div class="line">  https://www.linuxuprising.com/2020/03/ffmpegfs-is-fuse-based-filesystem-for.html</div>
<div class="line"> </div>
<div class="line">Important changes in 2.11 (2022-06-XX):</div>
<div class="line"> </div>
<div class="line">* Feature: Issue #86: Smart transcode now detects if a source file is audio only</div>
<div class="line">  and uses the correct target format. For example, with --destination=webm+mp3, if</div>
<div class="line">  one MP4 input file contains a video stream, another an audio stream only, the</div>
<div class="line">  resulting files will be webm (for the video input) and mp3 for the audio only</div>
<div class="line">  file.</div>
<div class="line">* Feature: Issue #137: Added --no_subtitles option to turn subtitles off.</div>
<div class="line">* Bugfix: Smart encode selected the video format for cue sheet tracks, regardless</div>
<div class="line">  of the input format. This has been fixed now.</div>
<div class="line">* Bugfix: Fix crash when DVD/Blu-ray should be transcoded to audio only.</div>
<div class="line">* Bugfix: If track performer is empty, try album performer instead.</div>
<div class="line">* Bugfix: Failing to mount Fuse during &quot;make check&quot; went unnoticed as the result</div>
<div class="line">  code (which was supposed to be 99) was actually 0. Now nonzero is returned.</div>
<div class="line">* Bugfix: The Docker build command contained a &quot;make check&quot; which actually failed</div>
<div class="line">  altogether. Step has been removed, &quot;make check&quot; mounts Fuse but this requires</div>
<div class="line">  privileges that do not exist during &quot;docker build&quot;.</div>
<div class="line">* Bugfix: mremap() returns MAP_FAILED on error, not NULL. Fixed check for wrong</div>
<div class="line">  error condition, could cause the application to crash or return stupid error</div>
<div class="line">  messages.</div>
<div class="line">* Bugfix: Issue #119: Fixed problem that caused frame set generation to</div>
<div class="line">  fail sometimes. Seems to be related to the nremap() issue.</div>
<div class="line">* Generally revisited documentation, logging, and display texts. Improved grammar,</div>
<div class="line">  formatting, and fixed quite a few typos that escaped all proofreading sessions.</div>
<div class="line">* Changed FFmpeg API INFO and DEBUG level log output to FFmpegfs DEBUG level.</div>
<div class="line">  What FFmpeg considers &quot;INFO&quot; is far too chatty.</div>
<div class="line">* Reduce frequent memory reallocations when creating HLS segments to speed up</div>
<div class="line">  processing.</div>
<div class="line"> </div>
<div class="line">Important changes in 2.10 (2022-04-26):</div>
<div class="line"> </div>
<div class="line">* Feature: Issue #123: New command line option to hide files by extension. Example:</div>
<div class="line">  --hide_extensions=jpg,png,cue would stop covers and cue sheets from showing up.</div>
<div class="line">* Feature: Issue #120: Added subtitle support. Subtitle streams can now also be</div>
<div class="line">  transcoded to the output files. Separate SRT or VTT files will be incorporated</div>
<div class="line">  as subtitle streams.</div>
<div class="line">* Bugfix: Fixed memory leak in encode_audio_frame().</div>
<div class="line">* Bugfix: Issue #122: Last song was missing from cuesheet files.</div>
<div class="line">* Bugfix: Issue #129: Files remained zero size when previously transcoded.</div>
<div class="line">* Bugfix: Issue #130: Fix file sizes can be incorrectly reported by ls but are</div>
<div class="line">  correct when data is read.</div>
<div class="line">* Bugfix: Duration was not saved in cache SQLite database.</div>
<div class="line">* Bugfix: Issue #131: Sometimes video parameters for some Blu-ray or DVD chapters</div>
<div class="line">  cannot be detected by FFmpeg API. Transcode then failes - fixed by using data</div>
<div class="line">  from the Blu-ray directory or DVD IFO instead.</div>
<div class="line">* Lowest supported FFmpeg API version raised to 4.1.8 &quot;al-Khwarizmi&quot;.</div>
<div class="line">* Dropped libavresample support, library was removed from FFmpeg API after 3.4.9.</div>
<div class="line">* Deprecated previous channel layout API based on uint64 bitmasks.</div>
<div class="line">* Deprecated swr_alloc_set_opts() and swr_build_matrix().</div>
<div class="line">* Going C++17 now: The packet queue has been recoded in C++17 to support</div>
<div class="line">  external subtitles files. As C++17 is required now, why not go all the way:</div>
<div class="line">  Starting to replace legacy C++ and somewhat C-like parts with real C++.</div>
<div class="line">* Using std::shared_ptr to ensure proper memory allocation/free.</div>
<div class="line"> </div>
<div class="line">Important changes in 2.9 (2022-02-16):</div>
<div class="line"> </div>
<div class="line">* Feature: Issue #97: Added options to chose different codecs. The audio codec</div>
<div class="line">  can be selected with --audiocodec, for videos use --videocodec.</div>
<div class="line">* Feature: Issue #109: Allow user defined file extensions for source files. By</div>
<div class="line">  default, only standard extensions are accepted, i.e., mp4, ts, avi etc.</div>
<div class="line">  Arbitrary file extensions can be defined now, e.g. using</div>
<div class="line">  --extensions=xxx,abc,yxz,aaa to also convert files ending with .xxx, .abc and</div>
<div class="line">  so on.</div>
<div class="line">* Feature: Issue #121: Added MKV support. New format can be selected with</div>
<div class="line">  --desttype=mkv.</div>
<div class="line">* Bugfix: Issue #112: Fixed Docker detection.</div>
<div class="line">* Bugfix: Issue #110: Docker build command failed, added missing libchardet</div>
<div class="line">  and allow libdvdread4 or *8 to be used, whatever available.</div>
<div class="line">* Bugfix: Fixed crash when video had no audio.</div>
<div class="line">* Bugfix: Issue #112: Fixed access problems with frame sets and HLS.</div>
<div class="line">* Bugfix: Issue #119: Fixed problem that caused frame set generation to</div>
<div class="line">  fail sometimes.</div>
<div class="line">* Bugfix: Fixed JPG frame set generation. Suddenly FF_COMPLIANCE_UNOFFICIAL was</div>
<div class="line">  required to have FFmpeg API accept the codec.</div>
<div class="line">* Enhancement: Issue #67: Enhance file size prediction.</div>
<div class="line">* Bugfix: Need to synchronise screen log. Concurrent entries by separate flags</div>
<div class="line">  created garbled output.</div>
<div class="line">* Bugfix: Avoid creating an HLS segment number which is out of bounds</div>
<div class="line">  (higher than the expected number of segments).</div>
<div class="line">* Enhancement: Removed QMake support, replaced with CMake.</div>
<div class="line"> </div>
<div class="line">Important changes in 2.8 (2021-11-29):</div>
<div class="line"> </div>
<div class="line">* Bugfix: Issue #102: Not all SQL queries where case sensitive, causing cache</div>
<div class="line">  confusion. Several database entries were created, but only one was updated.</div>
<div class="line">  Made all queries case sensitive.</div>
<div class="line">* Bugfix: Issue #91: Fixed HLS problems with cache causing garbled videos and</div>
<div class="line">  hick-ups in audio. Make sure that the cache is clean when transcoding starts.</div>
<div class="line">  There should be no remains left, all segments must be created or recreated</div>
<div class="line">  anyway. Do not append to cache when writing. This caused cache files to</div>
<div class="line">  become larger and larger.</div>
<div class="line">* Enhancement: Issue #103: If requested HLS segment is less than X (adjustable)</div>
<div class="line">  seconds away, discard seek request. Segment would be available very soon</div>
<div class="line">  anyway, and that seek makes a re-transcode necessary. Can be set with</div>
<div class="line">  --min_seek_time_diff. Defaults to 30 seconds.</div>
<div class="line">* Feature: Issue #105: Added Free Lossless Audio Codec (FLAC) support.</div>
<div class="line">  Activate with *--desttype=FLAC*.</div>
<div class="line">* Feature: Issue #101: Sample format for audio files can be selected via</div>
<div class="line">  command line with --audiosamplefmt. Possible values are 0 to use the predefined</div>
<div class="line">  setting, 8, 16, 32, 64 for integer format, F16, F32, F64 for floating point.</div>
<div class="line">  Not all formats are supported by all destination types, selecting an invalid</div>
<div class="line">  format will be reported as error and a list of values printed.</div>
<div class="line">  Defaults to 0 (Use same as source or the predefined format of the destination</div>
<div class="line">  if source format is not possible).</div>
<div class="line"> </div>
<div class="line">Important changes in 2.7 (2021-11-08):</div>
<div class="line"> </div>
<div class="line">* Bugfix: Issue #92: Fixed crash when hardware decoding failed. The problem</div>
<div class="line">  is that the FFmpeg API very late reports that it cannot decode the file in</div>
<div class="line">  hardware. To find out about that, the source file must be decoded until the</div>
<div class="line">  first video frame is encountered.</div>
<div class="line">  It would be very time consuming to do this on every file (decode until it</div>
<div class="line">  is clear that the file is supported, then actually start transcoding it</div>
<div class="line">  from scratch). There is no feasible way to automatically handle the</div>
<div class="line">  situation. To get around this a --hwaccel_dec_blocked parameter has been</div>
<div class="line">  added.</div>
<div class="line">  If hardware decoding fails, check the log for a message similar this:</div>
<div class="line">  &quot;[vp9 @ 0x7fe910016080] No support for codec vp9 profile 0.&quot;</div>
<div class="line">  If VP9 profile 0 is not supported, the parameter would be:</div>
<div class="line">  --hwaccel_dec_blocked=VP9:0</div>
<div class="line">  This will tell FFmpegfs to decode the file in software. To block VP9</div>
<div class="line">  as a whole, the parameter would be --hwaccel_dec_blocked=VP9. To block</div>
<div class="line">  both profile 0 and 1, use --hwaccel_dec_blocked=VP9:0:1.</div>
<div class="line">  The parameter can be repeated to block even more codecs.</div>
<div class="line">* Bugfix: Issue #96: Fixed potential buffer overrun and crash when reading</div>
<div class="line">  corrupted input files.</div>
<div class="line">* Enhancement: Issue #99: Report command line error if --desttype specifies</div>
<div class="line">  audio format first, or if the second format is not audio only. Avoid</div>
<div class="line">  misinterpretations. For example, --desttype=aiff+mov would create MOV</div>
<div class="line">  files out of any input. Correct would be --desttype=mov+aiff which will</div>
<div class="line">  create MOV files out of videos and AIFF from audio files, as expected.</div>
<div class="line">  </div>
<div class="line">Important changes in 2.6 (2021-09-04):</div>
<div class="line"> </div>
<div class="line">* No new features, just a bugfix. See V2.4 for details. </div>
<div class="line"> </div>
<div class="line">Important changes in 2.5 (2021-06-18)</div>
<div class="line"> </div>
<div class="line">* Feature: Issue #63 - Hardware acceleration for encoding/decoding is partly </div>
<div class="line">  implemented, VAAPI/MMAL/OMX/V4L2 are currently available only.</div>
<div class="line">  - Supported hardware: V4L2/VAAPI (Intel) and V4L2/MMAL/OMX (Raspberry).</div>
<div class="line">  - VAAPI: H264, H265/HEVC, MPEG-2 and VP-8 decoding and H264 encoding.</div>
<div class="line">  - VAAPI: MJPEG and VC-9 do not work (yet).</div>
<div class="line">  - MMAL: H264, MPEG-2, MPEG-4 and VC1 decoding.</div>
<div class="line">  - OMX: H264 encoding.</div>
<div class="line">  - V4L2: H263, H264, H265, MPEG1/2/4, VC-1, VP8/9 encoding/decoding.</div>
<div class="line">* Feature: Added unit tests for hardware acceleration. Failing tests will</div>
<div class="line">           report as SKIPPED and not fail the whole test.</div>
<div class="line">* Note: Which hardware en/decoder actually works depends on what your hardware</div>
<div class="line">        supports.</div>
<div class="line">* Call for testers: Have a CUDA capable graphics adapter and interested in</div>
<div class="line">  testing? Please write me an E-Mail.</div>
<div class="line"> </div>
<div class="line">Important changes in 2.4 (2021-09-04)</div>
<div class="line"> </div>
<div class="line">* Bugfix: Issue #90: Make sure that one keyframe gets inserted at the start of</div>
<div class="line">          each HLS segment.</div>
<div class="line"> </div>
<div class="line">Important changes in 2.3 (2021-06-11)</div>
<div class="line"> </div>
<div class="line">* Enhancement: Issue #80: Open input video codec only if target supports</div>
<div class="line">  video. Saves resources: no need to decode video frames if not used.</div>
<div class="line">* Enhancement: Issue #81: If source format has no audio, and the target supports</div>
<div class="line">  no video (e.g.WAV/MP3), the files have shown up zero sized. These will now not</div>
<div class="line">  be visible when doing ls. When trying to open them &quot;File not found&quot; will be</div>
<div class="line">  returned.</div>
<div class="line">* Added &quot;configure --enable-debug&quot; to create binaries with debug symbols.</div>
<div class="line">  Defaults to the optimised version.</div>
<div class="line">* Feature: Issue #73: Cue sheet tracks now play &quot;gapless&quot; if played in order.</div>
<div class="line">  Whenever a track is started, the next track will automatically be transcoded</div>
<div class="line">  as well.</div>
<div class="line">* Feature: Issue #66 and issue #82: Added cue sheet support. If a file with cue</div>
<div class="line">  extension is found with the same name as a media file or if a cue sheet is</div>
<div class="line">  embedded into it (a tag named CUESHEET), tracks defined in it will show up in a</div>
<div class="line">  virtual directory.</div>
<div class="line">* Feature: Issue #83: Character conversion for cue sheet files. Automatically</div>
<div class="line">  detects the character encoding of the cue sheet. and converts as necessary.</div>
<div class="line">* Feature: Issue #78: Duplicate ARTIST to ALBUMARTIST tag if empty</div>
<div class="line">* Feature: Issue #79: Added Docker support.</div>
<div class="line">* Fixed deprecation: 2021-03-17 - f7db77bd87 - lavc 58.133.100 - codec.h</div>
<div class="line">  Deprecated av_init_packet()</div>
<div class="line">* Fixed API compatitbility: Many pointers made const as of 2021-04-27. Although</div>
<div class="line">  reasonable, this breaks API compatibility with versions older than 59.0.100,</div>
<div class="line">* Bugfix: find_original &quot;fallback&quot; method did not correctly handle the new filename</div>
<div class="line">  format (extension added, not the original one replaced).</div>
<div class="line">* Bugfix: Issue #87: Segments are now properly separated, making sure that e.g.</div>
<div class="line">  segment 3 only goes from 30 seconds up to 40 (including 30, but not 40 seconds).</div>
<div class="line">* Bugfix: Issue #88: HLS audio and video now stay in sync after longer playback</div>
<div class="line">  (more than 30 minutes) or after seek operations.</div>
<div class="line"> </div>
<div class="line">Important changes in 2.2 (2021-02-06)</div>
<div class="line"> </div>
<div class="line">This is a maintenance release, bugfixes only.</div>
<div class="line"> </div>
<div class="line">* Bugfix: Issue #75: Fix crash when opening mp3 output with Dolphin.</div>
<div class="line">* Bugfix: Issue #70: Possible crash in Buffer::init: Should not assert if duration is 0</div>
<div class="line">          (and thus segment count 0). Report internal error and go on.</div>
<div class="line">* Bugfix: Issue #70: Do not set duration to 0 from cache but leave unchanged. Caused HLS</div>
<div class="line">          transcoding to fail if more than one transcoder was concurrently started.</div>
<div class="line">* Bugfix: Possible crash in transcoder_thread: Decoder object could have been used</div>
<div class="line">          after being freed.</div>
<div class="line">* Bugfix: Stupid blooper. WAV and AIFF size was always calculated for a mono file,</div>
<div class="line">          thus for stereo files resulting in only half the correct size.</div>
<div class="line">* Bugfix: Corrected documentation, &quot;make checks&quot; should read &quot;make check&quot;, funny this</div>
<div class="line">          went unnoticed for over 3 years...</div>
<div class="line">* Bugfix: Issue #74: Album arts were only copied from MP3/4 sources. Removed restriction,</div>
<div class="line">          if the input file contains an album art it will be copied to the target (if</div>
<div class="line">          supported, of course, e.g., to mp3 or mp4. Ogg is not yet supported because</div>
<div class="line">          embedding album arts in Ogg can only be done by an unofficial workaround).</div>
<div class="line">* Bugfix: Issue #71:: Virtual directories were missing dot and dot-dot nodes.</div>
<div class="line"> </div>
<div class="line">Important changes in 2.1 (2020-12-14)</div>
<div class="line">  </div>
<div class="line">* Feature: Add BLURAY_VIDEO_FORMAT_2160P (UHD)</div>
<div class="line">* Feature: Implemented in 1.7, removed experimental state for --win_smb_fix now.</div>
<div class="line">           Windows seems to access the files on Samba drives starting at the last 64K segment</div>
<div class="line">           simply when the file is opened. Setting --win_smb_fix=1 will ignore these attempts</div>
<div class="line">           (not decode the file up to this point).</div>
<div class="line">* Feature: --win_smb_fix now defaults to 1 (fix on by default). Has no effect</div>
<div class="line">           if the drive is accessed directly or via Samba from Linux.</div>
<div class="line">* Bugfix: Fixed grammatical error in text: It&#39;s &quot;access to&quot;, not &quot;access at&quot;.</div>
<div class="line">* Bugfix: Did not transcode some source files with invalid DTS.</div>
<div class="line">* Bugfix: Cosmetical - No need to log date/time twice in syslog.</div>
<div class="line">* Bugfix: Cosmetical - Fix man page/online help for --recodesame parameter.</div>
<div class="line">* Bugfix: Report correct segment duration</div>
<div class="line">* Bugfix: Avoid crash if opening next HLS segment failed. Should not ignore this, but report</div>
<div class="line">          it instead and stop transcoding.</div>
<div class="line">* Cosmetical: Log cache close action at trace level</div>
<div class="line">* Cosmetical: Shorter log entry when opening cache files</div>
<div class="line"> </div>
<div class="line">Important changes in 2.0 (2020-09-13)</div>
<div class="line"> </div>
<div class="line">Hurray! This is release 2.0!</div>
<div class="line"> </div>
<div class="line">* Feature: No new features, new release 2.0 after feature freeze.</div>
<div class="line">* Bugfix: Issue #64 - Fixed playback stopping prematurely on some files.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.99 (2020-07-18)</div>
<div class="line"> </div>
<div class="line">* Libav support has been dropped. There is no activity on https://git.libav.org/?p=libav.git</div>
<div class="line">  since 21.08.2019, and some features that FFmpegfs required were already lagging behind</div>
<div class="line">  FFmpeg API. Supporting Libav already bound a lot of my time that I could better spend</div>
<div class="line">  on new features or fixes for FFmpegfs.</div>
<div class="line">* Feature: Add PNG/BMP/JPG frame sets to &#39;make check&#39;. Checks number of files and cp</div>
<div class="line">           operations in arbitrary order with wildcards and absolute file names.</div>
<div class="line">* Feature: Add HLS segments to &#39;make check&#39;. Checks number of segments, the segment sizes</div>
<div class="line">           and correct file names.</div>
<div class="line">* Feature: Moved FFmpeg capabilities (formats) from --version/-V command to new -caps/-c</div>
<div class="line">           parameter to keep version information brief.</div>
<div class="line">* Bugfix: Issue #61 - fix timeout problem when accessing JPG in arbitrary order.</div>
<div class="line">* Bugfix: Issue #58 - Build list when ls/cp path/to/flles/00001.png is done. Access failed</div>
<div class="line">          because the file was not found.</div>
<div class="line">* Bugfix: Issue #59 - *.m3u8 files were tried to be transcoded while they should simply be</div>
<div class="line">          passed through. Added to ignore and pass through list.</div>
<div class="line">* Bugfix: Issue #57 - Correctly expand tilde when ~/ is used, for example in</div>
<div class="line">          &quot;ffmpegfs --logfile=~/ffmpegfs.log&quot;.</div>
<div class="line">* Bugfix: Issue #60 - Reopen cache file after it has been closed so that image frames can</div>
<div class="line">          be accessed after the file has been fully decoded.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.98 (2020-04-15)</div>
<div class="line"> </div>
<div class="line">* Cool, there&#39;s an online revivew on Linux Uprising, you can read it here:</div>
<div class="line">  https://www.linuxuprising.com/2020/03/ffmpegfs-is-fuse-based-filesystem-for.html</div>
<div class="line">* Support: FFmpegfs has recently been added to Debian sid and Debian Bullseye. It is also</div>
<div class="line">           available in Ubuntu 20.04 and Linux distributions based on it.</div>
<div class="line">* Feature: HLS: Introducing direct segment access. If e.g. segment no. 333 is opened,</div>
<div class="line">           ffmpegfs will seek to this position and start transcoding the segment</div>
<div class="line">           immediately. *Please note that this feature is still experimental and may</div>
<div class="line">           produce unexpected results.*</div>
<div class="line">* Support: No longer creating a user/group ffmpegfs while &quot;make install&quot;. The user is not really</div>
<div class="line">           required, just bloats the system&#39;s user database.</div>
<div class="line">* Support: Reduced quality of the test video to make the distribution archive slimmer. A full</div>
<div class="line">           HD (1920x1280) video at 60 frames per second was a bit of an overkill anyway.</div>
<div class="line">           720x400 at 30 fps should be enough for everybody.</div>
<div class="line">* Feature: Cache dir changed to ${XDG_CACHE_HOME:-~/.cache}/ffmpegfs (as specified in the XDG</div>
<div class="line">           Base Directory Specification). Falls back to ${HOME:-~/.cache}/ffmpegfs if not</div>
<div class="line">           defined. Only if executed with root privileges, &quot;/var/cache/ffmpegfs&quot; will be used</div>
<div class="line">           (e.g. if invoked via /etc/fstab entry).</div>
<div class="line">* Feature: Changed PTS generation: For DVD/Blu-ray chapters they will not start at 0 for each</div>
<div class="line">           chapter, but at the real time the chapter begins in its title. Fixes #51.</div>
<div class="line">* Feature: Issue #52 - Added --audiochannels option to select a different number of channels.</div>
<div class="line">           Defaults to 2 (stereo), may be set to 1 to create mono files. Set to 0 to keep the</div>
<div class="line">           original number of channels.</div>
<div class="line">* Bugfix: Issue #46 - Ensure the selected bitrate is used. Files could become much larger than</div>
<div class="line">          expected. There&#39;s a strange FFmpeg API behaviour behind that, added the solution used</div>
<div class="line">          in ffmpeg.c to fix.</div>
<div class="line">* Bugfix: Issue #48 - Properly handle incorrectly authored DVDs with missing SRI_END_OF_CELL</div>
<div class="line">          marks after cells.</div>
<div class="line">* Bugfix: Issue #49 - Avoid creating HLS last segments shorter than 200 ms, avoid stalls when</div>
<div class="line">          the total playtime is a multiple of the segment size, e.g. 10 seconds.</div>
<div class="line">* Bugfix: Issue #54 - Made sure no duplicate filenames get created. This changes the output name</div>
<div class="line">          scheme, e.g. if two files xyz.ts and xyz.wmv exist and the destination type is mp4,</div>
<div class="line">          two output files named xyz.ts.mp4 and xyz.wmv.mp4 appear. An additional file xyz.mp4</div>
<div class="line">          will show up with its real name.</div>
<div class="line">          To continue using the old names, add --oldnamescheme=1 to the command line.</div>
<div class="line">* Bugfix: Online help and docs state --autocopy=OFF would turn the function off, but this</div>
<div class="line">          actually was NONE. Changed to match documentation.</div>
<div class="line">* Known bug: Libav support for videos seems broken. Not sure if this will be fixed or Libav be</div>
<div class="line">          simply dropped.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.97 (2020-01-21)</div>
<div class="line"> </div>
<div class="line">* Support:</div>
<div class="line">* Feature: Added support for HLS (HTTP Live Streaming). Select desttype=hls to enable.</div>
<div class="line">* Feature: Added checks for mov/mp4/prores/webm video format.</div>
<div class="line">* Bugfix: Moved video deinterlace filtering before rescaling. Deinterlace does not work properly on</div>
<div class="line">          rescaled videos, what a suprise. Especially caused strange results on Blu-ray sources,</div>
<div class="line">          created blurred frames if downscaled from HD to SD (or lower) before deinterlacing.</div>
<div class="line">* Bugfix: Avoid EINVAL errors in case the cache file ends up at zero size. Minor problem, but ugly.</div>
<div class="line">* Bugfix: Cache structure was not properly initialised, causing invalid values in the database.</div>
<div class="line">* Bugfix: Properly handle case when start_time is AV_NOPTS_VALUE (frame sets only)</div>
<div class="line">* Bugfix: Corrected mistake in online help: clear-cache should be clear_cache instead.</div>
<div class="line">* Bugfix: Issue #43 - fix garbled first 12 frames. Enhanced overall picture quality.</div>
<div class="line">* Workaround: Issue #45 - fix garbled Blu-ray/DVD playback. Just a workaround, the problem is</div>
<div class="line">              somewhere else.</div>
<div class="line">* Due to copyright uncertanties and because the public domain license used is controversal, all</div>
<div class="line">  demo files in test/srcdir have been replaced with own works and put under the CC0 1.0 Universal</div>
<div class="line">  license.</div>
<div class="line">* Known bug: Libav support for videos seems broken. Not sure if this will be fixed or Libav be</div>
<div class="line">          simply dropped.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.96 (2019-11-18)</div>
<div class="line"> </div>
<div class="line">This is a pre-release towards the new version 2.0 coming up soon.</div>
<div class="line"> </div>
<div class="line">* Feature: Added version check and auto update to cache database. Older database versions will</div>
<div class="line">           now automatically upgraded to the latest structure.</div>
<div class="line">* Feature: Transcode videos to frame works transparently for any input now (DVD, Blu-ray and VideoCD).</div>
<div class="line">* Bugfix:  Fix for &quot;prores can&#39;t allocate memory #41&quot;.</div>
<div class="line">* Bugfix:  Do not shrink cache when reopening it.</div>
<div class="line">* Known bug:</div>
<div class="line"> </div>
<div class="line">Important changes in 1.95 (2019-05-23)</div>
<div class="line"> </div>
<div class="line">This is a pre-release towards the new version 2.0 coming up soon.</div>
<div class="line"> </div>
<div class="line">* Feature: Added transcode videos to frame images option. Video files can be mounted to folders</div>
<div class="line">           with jpg/png/bmp files for each video frame.</div>
<div class="line">* Feature: Reencode to same file format as source file. Normally files that already have the selected</div>
<div class="line">           output format will not be recoded. Added --recodesame option to allow transcoding to the</div>
<div class="line">           same format.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.12 (2020-04-XX)</div>
<div class="line"> </div>
<div class="line">* Support:</div>
<div class="line">* Feature:</div>
<div class="line">* Bugfix:</div>
<div class="line"> </div>
<div class="line">Important changes in 1.11 (2020-04-15)</div>
<div class="line"> </div>
<div class="line">* Cool, there&#39;s an online revivew on Linux Uprising, you can read it here:</div>
<div class="line">  https://www.linuxuprising.com/2020/03/ffmpegfs-is-fuse-based-filesystem-for.html</div>
<div class="line">* Support: FFmpegfs has recently been added to Debian sid and Debian Bullseye. It is also</div>
<div class="line">           available in Ubuntu 20.04 and Linux distributions based on it.</div>
<div class="line">* Support: No longer creating a user/group ffmpegfs while &quot;make install&quot;. The user is not really</div>
<div class="line">           required, just bloats the system&#39;s user database.</div>
<div class="line">* Support: Reduced quality of the test video to make the distribution archive slimmer. A full</div>
<div class="line">           HD (1920x1280) video at 60 frames per second was a bit of an overkill anyway.</div>
<div class="line">           720x400 at 30 fps should be enough for everybody.</div>
<div class="line">* Feature: Cache dir changed to ${XDG_CACHE_HOME:-~/.cache}/ffmpegfs (as specified in the XDG</div>
<div class="line">           Base Directory Specification). Falls back to ${HOME:-~/.cache}/ffmpegfs if not</div>
<div class="line">           defined. Only if executed with root privileges, &quot;/var/cache/ffmpegfs&quot; will be used</div>
<div class="line">           (e.g. if invoked via /etc/fstab entry).</div>
<div class="line">* Feature: Changed PTS generation: For DVD/Blu-ray chapters they will not start at 0 for each</div>
<div class="line">           chapter, but at the real time the chapter begins in its title.</div>
<div class="line">* Feature: Issue #52 - Added --audiochannels option to select a different number of channels.</div>
<div class="line">           Defaults to 2 (stereo), may be set to 1 to create mono files. Set to 0 to keep the</div>
<div class="line">           original number of channels.</div>
<div class="line">* Bugfix: Issue #46 - Ensure the selected bitrate is used. Files could become much larger than</div>
<div class="line">          expected. There&#39;s a strange FFmpeg API behaviour behind that, added the solution used</div>
<div class="line">          in ffmpeg.c to fix.</div>
<div class="line">* Bugfix: Issue #48 - Properly handle incorrectly authored DVDs with missing SRI_END_OF_CELL</div>
<div class="line">          marks after cells.</div>
<div class="line">* Bugfix: Issue #54 - Made sure no duplicate filenames get created. This changes the output name</div>
<div class="line">          scheme, e.g. if two files xyz.ts and xyz.wmv exist and the destination type is mp4,</div>
<div class="line">          two output files named xyz.ts.mp4 and xyz.wmv.mp4 appear. An additional file xyz.mp4</div>
<div class="line">          will show up with its real name.</div>
<div class="line">          To continue using the old names, add --oldnamescheme=1 to the command line.</div>
<div class="line">* Bugfix: Online help and docs state --autocopy=OFF would turn the function off, but this</div>
<div class="line">          actually was NONE. Changed to match documentation.</div>
<div class="line">* Libav support has been dropped. There is not activity on https://git.libav.org/?p=libav.git</div>
<div class="line">  since 21.08.2019, and some features that FFmpegfs required were already lagging behind FFmpeg</div>
<div class="line">  API. Supporting Libav already bound a lot of my time that I could better spend on new features</div>
<div class="line">  or fixes for FFmpegfs.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.10 (2020-01-21)</div>
<div class="line"> </div>
<div class="line">* Feature: Added checks for mov/mp4/prores/webm video format.</div>
<div class="line">* Bugfix: Moved video deinterlace filtering before rescaling. Deinterlace does not work properly on</div>
<div class="line">          rescaled videos, what a suprise. Especially caused strange results on Blu-ray sources,</div>
<div class="line">          created blurred frames if downscaled from HD to SD (or lower) before deinterlacing.</div>
<div class="line">* Bugfix: Avoid EINVAL errors in case the cache file ends up at zero size. Minor problem, but ugly.</div>
<div class="line">* Bugfix: Cache structure was not properly initialised, causing invalid values in the database.</div>
<div class="line">* Bugfix: Skip corrupted and discarded video frames to avoid blurps.</div>
<div class="line">* Bugfix: Corrected mistake in online help: clear-cache should be clear_cache instead.</div>
<div class="line">* Bugfix: Issue #43 - fix garbled first 12 frames. Enhanced overall picture quality.</div>
<div class="line">* Workaround: Issue #45 - fix garbled Blu-ray/DVD playback. Just a workaround, the problem is</div>
<div class="line">              somewhere else.</div>
<div class="line">* Due to copyright uncertanties and because the public domain license used is controversal, all</div>
<div class="line">  demo files in test/srcdir have been replaced with own works and put under the CC0 1.0 Universal</div>
<div class="line">  license.</div>
<div class="line">* Known bug: Libav support for videos seems broken. Not sure if this will be fixed or Libav be</div>
<div class="line">             simply dropped.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.9 (2019-11-18)</div>
<div class="line"> </div>
<div class="line">* Support: Code has now been tested to work on ARMv7 (32 bit).</div>
<div class="line">* Feature: Documented the whole project with Doxygen.</div>
<div class="line">* Feature: Implemented a thread pool. File open (and thread starts) are now much faster than before.</div>
<div class="line">           The thread pool also ensures that not more threads than configured are started. Defaults</div>
<div class="line">           to 16x the number of processor cores available.</div>
<div class="line">* Feature: Added Apple Lossles Audio Compression (ALAC) support.</div>
<div class="line">* Feature: Added optional graphviz to configure, only required for Doxygen.</div>
<div class="line">* Feature: Updated INSTALL.md with missing prerequisites. Rearranged paragraphs, mentioning building</div>
<div class="line">           from git first was confusing.</div>
<div class="line">* Feature: Moved cache directory from rather unusual /tmp/ffmpegfs location to /var/cache/ffmpegfs.</div>
<div class="line">* Bugfix: Fixed several warnings if compiled for 32 bit.</div>
<div class="line">* Bugfix: Removed unused xmlint prerequisite from configure.</div>
<div class="line">* Bugfix: Video and audio was out of sync on android devices.</div>
<div class="line">* Bugfix: Fix crash when Blu-ray video without audio was opened.</div>
<div class="line">* Bugfix: Cache files were left at the predicted size if it was larger than the result size.</div>
<div class="line">          Size is now correctly capped to the correct result size.</div>
<div class="line">* Fixed deprecation in fpcompare: 2018-04-01 - f1805d160d - lavfi 7.14.100 - avfilter.h</div>
<div class="line">    Deprecate use of avfilter_register(), avfilter_register_all(),</div>
<div class="line">    avfilter_next(). Added av_filter_iterate().</div>
<div class="line"> </div>
<div class="line">Important changes in 1.8 (2019-05-23)</div>
<div class="line"> </div>
<div class="line">This is a bugfix/maintenance release with only a few minor features added.</div>
<div class="line"> </div>
<div class="line">* Feature: Added Doxygen documentation.</div>
<div class="line">* Feature: Report all errors together with error number.</div>
<div class="line">* Feature: More detailed error handling.</div>
<div class="line">* Feature: Added &quot;make wipe-all&quot; to really clean up all generated files.</div>
<div class="line">* Bugfix: Do not report &quot;Not a directory&quot; error for virtual directories. Not an error, it&#39;s a feature.</div>
<div class="line">* Bugfix: Fixed make dist: checks did not work.</div>
<div class="line">* Bugfix: Fixed make clean: some Doxgen files were not removed.</div>
<div class="line">* Bugfix: Properly catch &quot;no memory&quot; errors.</div>
<div class="line">* Bugfix: Deinterlacing filter only worked for YUV videos.</div>
<div class="line">* Bugfix: Removed the check for invalid chapters - did not work as expected.</div>
<div class="line">* Bugfix: Wrong bitrate for PAL (was 30 fps instead of 25 fps) and assume PAL if bits are invalid.</div>
<div class="line">* Bugfix: Fixed potential crash in DVD handling.</div>
<div class="line">* Bugfix: Do not add libavresample if libswresample is present. Saves build time.</div>
<div class="line">* Bugfix: Removed dependency on unused libdvdnav. Saves buildtime.</div>
<div class="line">* Bugfix: Fixed two (probably rare but possible) crashes.</div>
<div class="line">* Bugfix: Image now not converted when the destination type is a video format.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.7 (2019-02-26)</div>
<div class="line"> </div>
<div class="line">* Feature: Windows seems to access the files on Samba drives starting at the last 64K segment</div>
<div class="line">           simply when the file is opened. Setting --win_smb_fix=1 will ignore these attempts (not decode the</div>
<div class="line">           file up to this point).</div>
<div class="line">* Feature: Added &quot;Auto Stream Copy&quot; option. This will copy audio or video streams to the output file rather than</div>
<div class="line">           recoding. Reduces computing time and CPU load.</div>
<div class="line">* Feature: Sped up DVD/Blu-ray/VCD access drastically. FUSE calls getattr like crazy, using cached data now.</div>
<div class="line">* Feature: Extended stream copy: now any codec can be copied if supported by target container using --autocopy=MATCH option.</div>
<div class="line">* Feature: Added full virtual titles to DVD, Blu-ray and Video CD. Creating one virtual file per chapter is very nice for</div>
<div class="line">       music disks as it allows access to every single title very easily. For movies it is better to have it in one</div>
<div class="line">       piece.</div>
<div class="line">* Feature: Enhanced win_smb_fix=1 functionality to hopefully catch all Windows incidents.</div>
<div class="line">* Feature: Added min_dvd_chapter_duration parameter. DVD chapters shorter than this will be ignored. Defaults to 1 second.</div>
<div class="line">* Bugfix: Decimal seconds in duration was wrong. Fixed.</div>
<div class="line">* Bugfix: This was a bad one: The application crashed with a protection fault if there was not enough disk space</div>
<div class="line">          on the cache drive. This is now properly reported and transcoding aborted. Thanks for Muf for reporting</div>
<div class="line">          the issue.</div>
<div class="line">* Bugfix: Fixed crash when DVD nav packet was missing</div>
<div class="line">* Bugfix: Fixed clang compatibility. Project did not build with clang, this has gone unnoticed for a while...</div>
<div class="line">* Bugfix: Fixed terrible miscalculation of DVD play time. No one told me the values are BCD, not decimal...</div>
<div class="line">* Bugfix: Fixed conversion of DVD chapters consisting of more than one cell.</div>
<div class="line">* Bugfix: Fixed pts/dts generation</div>
<div class="line">* Known bug: Some Blurays are not recoded properly. The resulting files are much larger than expected, as a matter of</div>
<div class="line">             fact larger than the source (birates &gt; 27 MBit). Happens only for some sources.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.6 (2019-01-11)</div>
<div class="line"> </div>
<div class="line">* Feature: Made all parameters like --profile case insensitive.</div>
<div class="line">* Feature: Added Apple MOV, Apple Prores and Apple AIFF formats.</div>
<div class="line">* Feature: Enable &quot;Smart Transcoding&quot;: To enable, specify --desttype=AUDIO+VIDEO, e.g.</div>
<div class="line">           --desttype=MOV+AIFF will automatically convert video files to MOV and audio</div>
<div class="line">           to AIFF.</div>
<div class="line">* Feature: New parameter --level allows selecting a profile for Prores: proxy, lt, standard</div>
<div class="line">           or hq.</div>
<div class="line">* Feature: Added MOV target format</div>
<div class="line">* Feature: Added AIFF target format</div>
<div class="line">* Feature: Smart conversion option (&quot;Smart Transcode&quot;)</div>
<div class="line">* Feature: Added level option for Prores</div>
<div class="line">* Feature: Added Apple Prores support</div>
<div class="line">* Feature: Do not &quot;upgrade&quot; mono audio to stereo. Create mono audio stream.</div>
<div class="line">* Feature: Speed up DVD conversion significantly by using IFO data instead of probing each chapter.</div>
<div class="line">* Feature: Added DVD angle support.Chapters with angles will show as separate files.</div>
<div class="line">* Feature: Speed up Blu-ray conversion significantly by using the directory instead of probing each chapter.</div>
<div class="line">* Feature: Speed up VCD conversion.</div>
<div class="line">* Feature: EXPERIMENTAL: Windows seems to access the files on Samba drives starting at the last 64K segment</div>
<div class="line">           simply when the file is opened. Setting win_smb_fix=1 will ignore these attempts (not decode the file</div>
<div class="line">           up to this point).</div>
<div class="line">* Bugfix: Suspend/decoding timeouts did not work. Transcoding never timed out...</div>
<div class="line">* Bugfix: Fixed memory leak when using the deinterlace option.</div>
<div class="line">* Bugfix: Deinterlace did not always work.</div>
<div class="line">* Bugfix: Fixed memory leaks.</div>
<div class="line">* Bugfix: Report correct error if directory mounted twice.</div>
<div class="line">* Bugfix: Silence chatty log outputs.</div>
<div class="line">* Bugfix: Fixed GPF when accessed.</div>
<div class="line">* Bugfix: Fixed GPF when channel layout changed during playback.</div>
<div class="line">* Bugfix: If transcode failed, the error was sometimes not reported to the client process, causing it to hang.</div>
<div class="line">* Bugfix: Sometimes tried to create WebM files with zero width (failed to transcode).</div>
<div class="line">* Bugfix: Avoid mpeg-4 profile/pixel format mismatches.</div>
<div class="line">* Bugfix: Fixed creating zero sized files from DVDs when chapter playtime &lt; 1 s.</div>
<div class="line">* Bugfix: Update timeout when client just holds the file open without reading.</div>
<div class="line">* Bugfix: Properly honour client exit (end wait for data).</div>
<div class="line">* Bugfix: Issue #23: do not block open with a read waiting for data.</div>
<div class="line">* Bugfix: WebM files had no duration. Added duration to Matroska container.</div>
<div class="line">* Bugfix: Fixed EOF detection for Blu-ray chapters.</div>
<div class="line">* Bugfix: Force mpeg format for DVDs to avoid misdetections.</div>
<div class="line">* Bugfix: Force mpegts format for Blurays to avoid misdetections.</div>
<div class="line">* Bugfix: Take DVD chapter duration from IFO as probed playtime from VOB segment is sometimes wrong.</div>
<div class="line">* Bugfix: Take Blu-ray chapter duration from directory as probed playtime from MTS segment is sometimes wrong.</div>
<div class="line">* Fixed deprecation:</div>
<div class="line"> </div>
<div class="line">Important changes in 1.5 (2018-06-08)</div>
<div class="line"> </div>
<div class="line">* Feature: Added WebM output format using VP9 video and Opus audio codec.</div>
<div class="line">* Feature: Input format check is now done by FFmpeg, that means if the input file is</div>
<div class="line">           supported by FFmpeg, it will be transcoded. For performance, files are not</div>
<div class="line">           opened and scanned, the file&#39;s extension is checked only (e.g. mp3, wav, rm etc.).</div>
<div class="line">* Feature: Replaced mutagen-inspect with internal code which also works with WAV and WebM.</div>
<div class="line">           test_tags works for all formats now. python-mutagen is no longer required.</div>
<div class="line">* Feature: Check if sample rate or sample format is supported by audio codec and change if</div>
<div class="line">           necessary. Avoid transcode fails e.g. if 44.1KHz sampling rate is requested but</div>
<div class="line">           not supported (e.g. OPUS only supports 8K, 16K, 24K or 48K). Select nearest</div>
<div class="line">           supported sample rate or sample format.</div>
<div class="line"> </div>
<div class="line">Important changes in 1.4 (2018-05-30)</div>
<div class="line"> </div>
<div class="line">* The timeout for suspend and abort have been changed. Decoding will now be suspended</div>
<div class="line">  after 15 seconds (formerly 2 minutes). If no activity is detected after further 15 seconds</div>
<div class="line">  (formerly 3 minutes) decoding will be aborted. This will only happen if the file is actively</div>
<div class="line">  closed, so if playback is simply paused decoding will continue. The new limits proofed to</div>
<div class="line">  be fine and reduce system load significantly.</div>
<div class="line"> </div>
<div class="line">* Feature: Enhanced logging, added a colour profile to screen logs and raised or lowered</div>
<div class="line">           some messages log levels appropriately. Also added a few informative log</div>
<div class="line">           messages.</div>
<div class="line">* Feature: Blu-ray support: Detect Blu-ray files in directories and list separate chapters</div>
<div class="line">           and titles as separate files.</div>
<div class="line">* Feature: DVD support: Detect IFO files and list separate DVD chapters or programs</div>
<div class="line">           as separate files.</div>
<div class="line">* Feature: S/VCD support: Detect Video CDs in directories and list chapters</div>
<div class="line">           as separate files.</div>
<div class="line">* Feature: Changed the fuse operations code module to c++ (minimise danger of</div>
<div class="line">           memory leaks or buffer overruns)</div>
<div class="line">* Feature: Added --enablescript option that will add virtual index.php to every</div>
<div class="line">           directory. It reads scripts/videotag.php from the ffmpegs binary directory.</div>
<div class="line">           This can be very handy to test video playback. Of course, feel free to</div>
<div class="line">           replace videotag.php with your own script.</div>
<div class="line">* Feature: By default ignore decoding errors so that transcoding does not stop just</div>
<div class="line">           because a few frames are garbled. Can be disabled with the &quot;decoding_errors&quot;</div>
<div class="line">           option.</div>
<div class="line"> </div>
<div class="line">* Bugfix: Sometimes the pixel format could not be detected, raising an assert/application</div>
<div class="line">          crash with newer FFmpeg API versions. Fixed by setting it to the output format.</div>
<div class="line">          This will mostly ever create defect encoder results, but at least the FFmpegfs</div>
<div class="line">          process will not be shut down writing a core file.</div>
<div class="line">* Bugfix: Set mp4 profile to high/3.1 to enable playback under enable playback under</div>
<div class="line">          Win 7.</div>
<div class="line">* Bugfix: Fixed formatting of help text.</div>
<div class="line"> </div>
<div class="line">* Workaround: Fixed Libav support: Deinterlace code did not compile. Should be possible</div>
<div class="line">              to get it working, but for now it is simply disabled.</div>
<div class="line">              But honestly I don&#39;t want to get it working. I am thinking of dropping</div>
<div class="line">              Libav completely.</div>
<div class="line"> </div>
<div class="line">* Fixed deprecation: 2018-xx-xx - xxxxxxx - lavf 58.9.100 - avformat.h</div>
<div class="line">    Deprecate use of  av_iformat_next(), av_oformat_next().</div>
<div class="line"> </div>
<div class="line">Important changes in 1.3 (2018-05-04)</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line"> </div>
<div class="line">* Feature: Added option to deinterlace video if required (will improve picture</div>
<div class="line">           quality when viewed in browsers via HTML5.</div>
<div class="line">* Feature: Set stream duration from source file as hint for encoder.</div>
<div class="line">* Feature: Enhanced logging output for better readability.</div>
<div class="line">* Feature: Added pre-buffer option. Files will be decoded up to this limit first</div>
<div class="line">           before made accessible. This ensures smooth startup.</div>
<div class="line">* Feature: Enhanced configure that checks whether libavresample or libswresample</div>
<div class="line">           is present.</div>
<div class="line">* Feature: Improved recoding detection. Files are recoded if the source file size</div>
<div class="line">           or timestamp changes, or different encoding options are selected</div>
<div class="line">           (e.g. a different bitrate, vidoe size etc.).</div>
<div class="line">* Feature: Allow profiles for target browsers or players. Currently selectable:</div>
<div class="line">           NONE     no profile</div>
<div class="line">           FF       optimise for Firefox</div>
<div class="line">           EDGE     optimise for MS Edge and Internet Explorer &gt; 11</div>
<div class="line">           IE       optimise for MS Edge and Internet Explorer &lt;= 11</div>
<div class="line">           CHROME   Google Chrome</div>
<div class="line">           SAFARI   Apple Safari</div>
<div class="line">           OPERA    Opera</div>
<div class="line">           MAXTHON  Maxthon</div>
<div class="line">           Defaults to NONE</div>
<div class="line">* Feature: enhanced error output for SQLite (if supported by library version)</div>
<div class="line">* Feature: copy album arts from source if supported by target format (MP3/4).</div>
<div class="line">           Use --noalbumarts parameter to disable, e.g., for streaming files.</div>
<div class="line"> </div>
<div class="line">* Bugfix: Only four lines of code: Avoid locking other clients when trying to get</div>
<div class="line">          the size of a file currently being decoded. Also speeds up directory</div>
<div class="line">          access quite significantly.</div>
<div class="line">* Bugfix: Fixed lost frames at end of files (files where cut short)</div>
<div class="line">* Bugfix: Fixed crash when video files were transcoded to audio only (e.g. mp3)</div>
<div class="line">* Bugfix: Make WAV size prediction more accurate</div>
<div class="line">* Bugfix: Recode existing cache files if not found in database (handle database inconsistencies).</div>
<div class="line">* Bugfix: Fixed sharing problems with sqlite database when accessed by multiple instances.</div>
<div class="line">* Bugfix: Files were truncated (mostly mp3) when cp&#39;ed directly while transcoding. Now files</div>
<div class="line">          will have the final size as expected.</div>
<div class="line">* Bugfix: Create valid WAV header for files transcoded on-the-fly.</div>
<div class="line">* Bugfix: Ensure a file gets recoded when the last attempt failed.</div>
<div class="line">* Bugfix: Ensure that transcoding errors get passed on to calling process, e.g. cp or rsync.</div>
<div class="line">          Otherwise copy operations might not notice that the file is invalid.</div>
<div class="line"> </div>
<div class="line">FFMpeg has evolved, many API parts have been deprecated and will be dropped</div>
<div class="line">soon. This release adopts these changes by conditionally using the new</div>
<div class="line">APIs from the FFMpeg version on that they are available.</div>
<div class="line"> </div>
<div class="line">* Fixed deprecation: 2017-xx-xx - xxxxxxx - lavr 4.0.0 - avresample.h</div>
<div class="line">    Deprecate the entire library. Merged years ago to provide compatibility</div>
<div class="line">    with Libav, it remained unmaintained by the FFmpeg project and duplicated</div>
<div class="line">    functionality provided by libswresample.</div>
<div class="line">    swresample is the preferred library in FFMpeg, so it will be used if compiled</div>
<div class="line">    with FFMpeg by default, even before being deprecated. With libav, which</div>
<div class="line">    makes libavresample available only, the latter will be used.</div>
<div class="line">* Fixed deprecation: 2016-04-21 - 7fc329e - lavc 57.37.100 - avcodec.h</div>
<div class="line">    Added a new audio/video encoding and decoding API with decoupled input</div>
<div class="line">    and output -- avcodec_send_packet(), avcodec_receive_frame(),</div>
<div class="line">    avcodec_send_frame() and avcodec_receive_packet().</div>
<div class="line">* Fixed deprecation: 2018-01-xx - xxxxxxx - lavf 58.7.100 - avformat.h</div>
<div class="line">    Deprecate AVFormatContext filename field which had limited length, use the</div>
<div class="line">    new dynamically allocated url field instead.</div>
<div class="line">* Fixed deprecation: 2018-xx-xx - xxxxxxx - lavf 58.9.100 - avformat.h</div>
<div class="line">    Deprecate use of av_register_input_format(), av_register_output_format(),</div>
<div class="line">    av_register_all(), av_iformat_next(), av_oformat_next().</div>
<div class="line">    NOTE: av_iformat_next/av_oformat_next() lack a replacement (currently</div>
<div class="line">    still used in tools/probetest.c &quot;static void probe&quot; in 58.10.100)</div>
<div class="line">* Fixed deprecation: 2018-xx-xx - xxxxxxx - lavc 58.10.100 - avcodec.h</div>
<div class="line">    Deprecate use of avcodec_register(), avcodec_register_all(),</div>
<div class="line">    av_codec_next(), av_register_codec_parser(), and av_parser_next().</div>
<div class="line">    Added av_codec_iterate() and av_parser_iterate().</div>
<div class="line">* Fixed deprecation: 2016-04-11 - 6f69f7a / 9200514 - lavf 57.33.100 / 57.5.0 - avformat.h</div>
<div class="line">    Added AVStream.codecpar, deprecate AVStream.codec.</div>
<div class="line">* Fixed deprecation: 2018-04-01 - f1805d160d - lavfi 7.14.100 - avfilter.h</div>
<div class="line">    Deprecate use of avfilter_register(), avfilter_register_all(),</div>
<div class="line">    avfilter_next(). Added av_filter_iterate().</div>
<div class="line"> </div>
<div class="line">nschlia@oblivion-software.de</div>
<div class="line"> </div>
<div class="line">Important changes in 1.2 (2018-04-03)</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Fixed issue #4: File size was wrong when file was first accessed.</div>
<div class="line">* Fixed issue #5: Fixed crashes when transcoding.</div>
<div class="line">* Feature: None. This a bug fix release.</div>
<div class="line"> </div>
<div class="line">nschlia@oblivion-software.de</div>
<div class="line"> </div>
<div class="line">Important changes in 1.1 (2018-03-19)</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Fixed: make clean for checks did not delete all logs</div>
<div class="line">* Feature request #1: WAV output support (by github user Avuton)</div>
<div class="line">* Feature: OGG output support</div>
<div class="line">* Fixed: Did not write correct ID3v2 headers (thanks for the fix to gitbug user sdrik)</div>
<div class="line">* Feature: Include configure command line arguments and host OS in &quot;-V&quot; option.</div>
<div class="line">* Feature: Added --videoheight=HEIGHT and --videowidth=WIDTH parameters to allow</div>
<div class="line">  video size change. If source video is larger it will be scaled down.</div>
<div class="line">  If already smaller the size will be left as is. You should only set</div>
<div class="line">  one parameter, if both are set the aspect ratio may be changed and the</div>
<div class="line">  result look strange.</div>
<div class="line">* Feature: Added clear_cache option to clear the whole cache everytime</div>
<div class="line">  the application is started.</div>
<div class="line">* Note: Dropped ISMV option as it did not work as expected, especially creating an</div>
<div class="line">  mp4 on-the-fly did not work. The streamlined mp4 format already does the work.</div>
<div class="line"> </div>
<div class="line">nschlia@oblivion-software.de</div>
<div class="line"> </div>
<div class="line">Important changes in 1.00 (2018-01-19)</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Cheers! Made it! This is release version 1.0, the first production release.</div>
<div class="line">* Fixed compile for FFmpeg versions prior to 3.0.</div>
<div class="line"> </div>
<div class="line">nschlia@oblivion-software.de</div>
<div class="line"> </div>
<div class="line">Important changes in 0.95 (2017-12-29)</div>
<div class="line"> </div>
<div class="line">NOTE: The cache format has changed and is not compatible with prior versions.</div>
<div class="line">      Please do a &quot;rm -Rf /tmp/ffmpegfs&quot; before starting this version to</div>
<div class="line">      create a new cache.</div>
<div class="line">TODO: see new TODO file from now on.</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Heureka! This is the first beta release towards V1.0. From now on only bug</div>
<div class="line">  fixes will go into the code.</div>
<div class="line">* Implemented automatic cache maintenance (ensure cache size, disk space, delete</div>
<div class="line">  outdated entries).</div>
<div class="line">* Fixed checks (&quot;make check&quot; works now. Known problem: mp4 sizes seem to differ</div>
<div class="line">  when using different FFmpeg releases. Will be addressed soon.).</div>
<div class="line">* Fixed mp3 format (The mp3s were completely braindead.).</div>
<div class="line">* Fixed suspend timeout coming although file currently accessed.</div>
<div class="line">* Fixed crash during shutdown because sqlite was used too late.</div>
<div class="line">* Fixed handling of multiple destination types in same cache.</div>
<div class="line">* Properly pass on errno/save and store in cache database.</div>
<div class="line">* Additional database fields for target parameters (bitrate, error code etc.).</div>
<div class="line">  Will be used in later versions to detect if a file needs re-transcoding.</div>
<div class="line">* Files will be recoded if source file changes (size or timestamp).</div>
<div class="line">* Report compiler version when run with -v parameter.</div>
<div class="line">* Set gcc optimisation higer (now -o3).</div>
<div class="line"> </div>
<div class="line">nschlia@oblivion-software.de</div>
<div class="line"> </div>
<div class="line">Important changes in 0.94 (2017-12-19)</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Decided to rename mp3fs to FFmpegfs because the project has grown far beyond</div>
<div class="line">  a simple clone of mp3fs and the changes it will surely never be pushed back</div>
<div class="line">  to the parent project. A big random applause to the makers of mp3fs for giving</div>
<div class="line">  me a good head start!</div>
<div class="line">* Cache management: Keep cache size within limit, ensure min. disk space, prune</div>
<div class="line">  oldest entries</div>
<div class="line">* Fixed many crashes</div>
<div class="line">* Fixed memory leaks</div>
<div class="line">* Fixed mp4 check suite</div>
<div class="line">* Added mp3 check suite</div>
<div class="line">* Added --disable_cache parameter</div>
<div class="line">* Added --prune_cache parameter. Starts cache pruning manually.</div>
<div class="line">* TODO: Add intelligent stream copy, e.g., if transcoding a transport stream</div>
<div class="line">  that already represents a H264 video stream it would be possible to</div>
<div class="line">  simply repackage it to a mp4 container without recoding.</div>
<div class="line">* TODO: Cover art support still missing</div>
<div class="line"> </div>
<div class="line">nschlia@oblivion-software.de</div>
<div class="line"> </div>
<div class="line">Important changes in 0.92-FFmpeg (2017-12-14)</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Files will now be decoded to /tmp/ instead of memory.</div>
<div class="line">* Full support for video files (mp4 target only).</div>
<div class="line">* Removed --statcachesize option as caching will be handled by new disk cache.</div>
<div class="line">* Fixed sync problems while accessing the same file concurrently</div>
<div class="line">* Fixed many crashes due to incorrect usage of FFmpeg</div>
<div class="line">* Cache directory user defineable</div>
<div class="line">* Delete cache entries after predefined time</div>
<div class="line">* Detect if file has changed and re-transcode</div>
<div class="line">* Limit cache size</div>
<div class="line">* Suspend transcode after n seconds</div>
<div class="line">* Exit transcode after n seconds</div>
<div class="line">* TODO: Add intelligent stream copy, e.g., if transcoding a transport stream</div>
<div class="line">  that already represents a H264 video stream it would be possible to</div>
<div class="line">  simply repackage it to a mp4 container without recoding.</div>
<div class="line"> </div>
<div class="line">nschlia@oblivion-software.de</div>
<div class="line"> </div>
<div class="line">Important changes in 0.91-FFmpeg (2017-10-04)</div>
<div class="line"> </div>
<div class="line">Added FFmpeg for decoding and encoding.</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Replaced decoding and encoding with FFmpeg.</div>
<div class="line">* Removed discrete FLAC/Ogg/MP3 libraries. FFmpeg supports a wide range of</div>
<div class="line">  formats, including these, so they are no longer required.</div>
<div class="line">* TODO: Supports a huge number of file formats now (run &quot;mp3fs --codecs&quot; for</div>
<div class="line">  a list).</div>
<div class="line">* The standard target format is mp4 now (use &quot;-o mp3&quot; or &quot;--output mp3&quot;</div>
<div class="line">  to change back to mp3).</div>
<div class="line">* Many other formats are possible, e.g. &quot;-o ogg&quot;, they will be added later</div>
<div class="line">  because due to the manner in which Fuse requires access to the files they</div>
<div class="line">  need to be implemented with care.</div>
<div class="line">* See manual or run &quot;mp3fs -h&quot; for even more new options.</div>
<div class="line">* Run &quot;mp3fs -f&quot; to get a list of all supported input formats.</div>
<div class="line">* Caching of file attributes is now the default as if</div>
<div class="line">  &quot;--statcachesize=500&quot; was given. Added &quot;--statcachesize=0&quot; to turn off</div>
<div class="line">  (not really a bright idea, though).</div>
<div class="line">* TODO: Files will now be decoded to /tmp/ instead of memory if larger</div>
<div class="line">  than 100MB. Added &quot;--maxmemcache=X&quot; to change. Examples for X: 80000,</div>
<div class="line">  80MB or 1GB. Do not set to a too large value as you may run out of</div>
<div class="line">  memory.</div>
<div class="line">* TODO: Support for video files.</div>
<div class="line">* TODO: Add intelligent stream copy, e.g., if transcoding a transport stream</div>
<div class="line">  that already represents a H264 video stream it would be possible to</div>
<div class="line">  simply repackage it to a mp4 container without recoding.</div>
<div class="line"> </div>
<div class="line">nschlia@oblivion-software.de</div>
<div class="line"> </div>
<div class="line">Important changes in 0.91 (2014-05-14)</div>
<div class="line"> </div>
<div class="line">This is mainly bug fixes.</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Fixed a segfault caused by an overflow reading the list of available</div>
<div class="line">  decoders.</div>
<div class="line">* A number of problems with the previous distribution tar are now fixed.</div>
<div class="line">* The output of `mp3fs --version` has been made more complete.</div>
<div class="line"> </div>
<div class="line">Important changes in 0.9 (2014-04-06)</div>
<div class="line"> </div>
<div class="line">This is a major new release, and brings us very close to a 1.0 release!</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* All transcoding code has been completely rewritten. Encoding and</div>
<div class="line">  decoding have been abstracted out into base classes defining interfaces</div>
<div class="line">  that can be implemented by different codec classes, with just a FLAC</div>
<div class="line">  decoder and MP3 encoder at the moment.</div>
<div class="line">* The build system has been modified as well to support this usage.</div>
<div class="line">* A number of small bugs or code inefficiencies have been fixed.</div>
<div class="line"> </div>
<div class="line">Important changes in 0.32 (2012-06-18)</div>
<div class="line"> </div>
<div class="line">This release has a lot of bug fixes and some code cleanup.</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* The file size calculation should always be correct.</div>
<div class="line">* A crash affecting programs like scp that might try to access past the</div>
<div class="line">  end of the file has been fixed.</div>
<div class="line">* Too many other little fixes were made to list here. See the ChangeLog</div>
<div class="line">  for full details.</div>
<div class="line"> </div>
<div class="line">Important changes in 0.31 (2011-12-04)</div>
<div class="line"> </div>
<div class="line">This is a minor update, with bug fixes and a new feature.</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* The ReplayGain support added earlier now can be configured through the</div>
<div class="line">  command line.</div>
<div class="line">* Filename translation (from .flac to .mp3) is now fixed on filesystems</div>
<div class="line">  such as XFS that do not populate dirent.d_type.</div>
<div class="line">* A couple other minor bugs fixes and changes were made.</div>
<div class="line"> </div>
<div class="line">Important changes in 0.30 (2010-12-01)</div>
<div class="line"> </div>
<div class="line">This is a major new release, and brings mp3fs much closer to an eventual</div>
<div class="line">1.0 release.</div>
<div class="line"> </div>
<div class="line">Changes in this release:</div>
<div class="line">* Support for additional metadata tags has been added. (From Gregor</div>
<div class="line">  Zurowski)</div>
<div class="line">* Documentation improvements: the help message is more useful, and a man</div>
<div class="line">  page has been added.</div>
<div class="line">* Choosing bitrate is now done with a command-line or mount option, rather</div>
<div class="line">  than the old comma syntax.</div>
<div class="line">* A new option to select LAME encoding quality is now available. (From</div>
<div class="line">  Gregor Zurowski)</div>
<div class="line">* Debug output can be enabled at runtime.</div>
<div class="line">* Old external libraries included in distribution (StringIO, talloc) have</div>
<div class="line">  been removed and replaced.</div>
<div class="line">* Numerous bug fixes have been made. (Some from Gregor Zurowski)</div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">0.01 Initial release 06/Aug/2006</div>
<div class="line"> </div>
<div class="line">========================================================================</div>
<div class="line"> </div>
<div class="line">Copyright (C) 2010-2014 K. Henriksson</div>
<div class="line">Copyright (C) 2017-2022 Norbert Schlia (FFmpeg support)</div>
<div class="line"> </div>
<div class="line">This documentation may be distributed under the GNU Free Documentation License</div>
<div class="line">(GFDL) 1.3 or later with no invariant sections, or alternatively under the GNU</div>
<div class="line">General Public License (GPL) version 3 or later.</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
